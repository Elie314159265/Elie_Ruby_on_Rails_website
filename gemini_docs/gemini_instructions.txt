ÁîüÊàê„Éï„Ç°„Ç§„É´„ÅÆË™¨Êòé
Project_Design_and_Steps.md: „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂÖ®‰Ωì„ÅÆË®≠Ë®àÂõ≥Ôºà„Éá„Ç£„É¨„ÇØ„Éà„É™ÊßãÊàê„ÄÅGemÈÅ∏ÂÆö„ÄÅDBË®≠Ë®à„ÄÅÈñãÁô∫ÊâãÈ†Ü„ÄÅCI/CD„ÄÅÈÅãÁî®ÊâãÈ†ÜÔºâ„ÄÇ

Gemfile: ÂøÖË¶Å„Å™GemÔºàMarkdownÊèèÁîª„ÄÅSEO„ÄÅAWSÈÄ£Êê∫„Å™„Å©Ôºâ„ÇíËøΩÂä†„Åó„ÅüÂÆöÁæ©„Éï„Ç°„Ç§„É´„ÄÇ

20250101000000_create_portfolio_tables.rb: ÂøÖË¶Å„Å™„ÉÜ„Éº„Éñ„É´„Çí‰∏ÄÊã¨‰ΩúÊàê„Åô„Çã„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´„ÄÇ

routes.rb: ÂÖ¨ÈñãÁî®„Å®ÁÆ°ÁêÜËÄÖÁî®„ÇíÂàÜ„Åë„Åü„É´„Éº„ÉÜ„Ç£„É≥„Ç∞Ë®≠Ë®à„ÄÇ

markdown_helper.rb: „Ç∑„É≥„Çø„ÉÉ„ÇØ„Çπ„Éè„Ç§„É©„Ç§„Éà‰ªò„Åç„ÅßMarkdown„ÇíÂ§âÊèõ„Åô„Çã„Éò„É´„Éë„Éº„ÄÇ

application.html.erb: „ÅîË¶ÅÊúõ„ÅÆ„ÄåÊ∞¥Ëâ≤„Å®ÁôΩ„Äç„Çí„Éô„Éº„Çπ„Å´„Åó„Åü„ÄÅ„Ç∑„É≥„Éó„É´„ÅßÊ∏ÖÊΩîÊÑü„ÅÆ„ÅÇ„Çã„É¨„Ç§„Ç¢„Ç¶„Éà„ÉÜ„É≥„Éó„É¨„Éº„ÉàÔºàTailwind CSS‰ΩøÁî®Ôºâ„ÄÇ

posts_controller.rb: Ë®ò‰∫ã„ÅÆCRUD„Å®Markdown„Éó„É¨„Éì„É•„ÉºÊ©üËÉΩ„ÇíÂÇô„Åà„Åü„Ç≥„É≥„Éà„É≠„Éº„É©„Éº„ÄÇ

deploy.yml: GitHub Actions„Å®Kamal„Çí‰ΩøÁî®„Åó„Åü„Éá„Éó„É≠„Ç§„Éï„É≠„ÉºÂÆöÁæ©„ÄÇ



Project_Design_and_Steps.md
„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„Çµ„Ç§„ÉàË®≠Ë®àÊõ∏ & ÈñãÁô∫„Ç¨„Ç§„Éâ1. „Éá„Ç£„É¨„ÇØ„Éà„É™ÊßãÊàê„Å®GemÈÅ∏ÂÆöRails 8„ÅÆÊ®ôÊ∫ñÊßãÊàê„Çí„Éô„Éº„Çπ„Å´„ÄÅ‰ª•‰∏ã„ÅÆÊ©üËÉΩÊã°Âºµ„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇüìÅ ‰∏ª„Å™„Éá„Ç£„É¨„ÇØ„Éà„É™ÊßãÊàêÊ°àapp/
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ admin/          # ÁÆ°ÁêÜËÄÖÁî®ÔºàË®ò‰∫ã„ÉªÂÆüÁ∏æ„ÅÆ‰ΩúÊàê/Á∑®ÈõÜÔºâ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_controller.rb
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ posts_controller.rb
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ projects_controller.rb
‚îÇ   ‚îú‚îÄ‚îÄ posts_controller.rb    # ÂÖ¨ÈñãÁî®Ë®ò‰∫ãË°®Á§∫
‚îÇ   ‚îú‚îÄ‚îÄ projects_controller.rb # ÂÖ¨ÈñãÁî®ÂÆüÁ∏æË°®Á§∫
‚îÇ   ‚îî‚îÄ‚îÄ pages_controller.rb    # Top, About, Contact
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ user.rb         # ÁÆ°ÁêÜËÄÖÔºàRails 8 authenticationÔºâ
‚îÇ   ‚îú‚îÄ‚îÄ post.rb         # „Éñ„É≠„Ç∞Ë®ò‰∫ã
‚îÇ   ‚îî‚îÄ‚îÄ project.rb      # „Éù„Éº„Éà„Éï„Ç©„É™„Ç™ÂÆüÁ∏æ
‚îú‚îÄ‚îÄ helpers/
‚îÇ   ‚îî‚îÄ‚îÄ markdown_helper.rb # MarkdownÂ§âÊèõ„É≠„Ç∏„ÉÉ„ÇØ
‚îî‚îÄ‚îÄ views/
    ‚îú‚îÄ‚îÄ admin/          # ÁÆ°ÁêÜÁîªÈù¢Áî®„Éì„É•„Éº
    ‚îî‚îÄ‚îÄ ...             # ÂÖ¨ÈñãÁîªÈù¢Áî®„Éì„É•„Éº
üíé GemÈÅ∏ÂÆöÁêÜÁî±GemÁî®ÈÄîÈÅ∏ÂÆöÁêÜÁî±redcarpetMarkdownÂ§âÊèõÊã°ÂºµÊÄß„ÅåÈ´ò„Åè„ÄÅGitHub Flavored Markdown„Å´ÂØæÂøú„Åó„ÇÑ„Åô„ÅÑ„Åü„ÇÅ„ÄÇrouge„Ç≥„Éº„Éâ„Éè„Ç§„É©„Ç§„ÉàRubyË£Ω„ÅßRails„Å®„ÅÆË¶™ÂíåÊÄß„ÅåÈ´ò„Åè„ÄÅËªΩÈáè„ÅßÈ´òÈÄü„ÄÇmeta-tagsSEOÂØæÁ≠ñÂãïÁöÑ„Å™Title/DescriptionË®≠ÂÆö„ÅåÂÆπÊòì„Åß„ÄÅOGPÂØæÂøú„ÇÇÊ®ôÊ∫ñ„ÅßÂèØËÉΩ„Å™„Åü„ÇÅ„ÄÇaws-sdk-s3ÁîªÂÉè„Çπ„Éà„É¨„Éº„Ç∏ActiveStorage„ÅßS3„ÇíÂà©Áî®„Åô„Çã„Åü„ÇÅ„Å´ÂøÖÈ†à„ÄÇimage_processingÁîªÂÉèÂä†Â∑•„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÁîªÂÉè„ÅÆ„Çµ„Ç§„Ç∫Ë™øÊï¥Ôºà„Çµ„É†„Éç„Ç§„É´ÁîüÊàêÔºâÁî®„ÄÇkaminari„Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥Ê®ôÊ∫ñÁöÑ„ÅßË®≠ÂÆö„ÅåÂÆπÊòì„ÄÅTailwindÁî®„ÅÆ„Éì„É•„Éº„ÇÇ„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„ÅßÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÇ2. „Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à (SQLite ProductionÊé®Â•®)Rails 8„Åß„ÅØ„ÄÅÂÄã‰∫∫„ÅÆ„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„É¨„Éô„É´„Åß„ÅÇ„Çå„Å∞PostgreSQL„Å™„Å©„ÅÆÂ§ñÈÉ®DB„Çµ„Éº„Éê„Éº„ÇíÁ´ã„Å¶„Çã„Çà„Çä„ÇÇ„ÄÅSQLite (Êú¨Áï™Áí∞Â¢ÉÁî®) „ÅÆ‰ΩøÁî®„ÅåÊé®Â•®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇKamal„Çí‰Ωø„Åà„Å∞„Éá„Éº„ÇøÊ∞∏Á∂öÂåñ„ÇÇÂÆπÊòì„Åß„ÄÅ‰Ωï„Çà„ÇäAWS„ÅÆRDS„Ç≥„Çπ„ÉàÔºàÊúàÈ°çÊï∞ÂçÉÂÜÜ„ÄúÔºâ„Çí„Ç´„ÉÉ„Éà„Åß„Åç„Åæ„Åô„ÄÇ„ÉÜ„Éº„Éñ„É´ÂÆöÁæ©users (ÁÆ°ÁêÜËÄÖ)Rails 8 rails generate authentication „Ç≥„Éû„É≥„Éâ„ÅßÁîüÊàê„Åï„Çå„ÇãÊ®ôÊ∫ñ„Çπ„Ç≠„Éº„Éû„ÇíÂà©Áî®„ÄÇemail_address: string, uniquepassword_digest: stringsessions: (Èñ¢ÈÄ£„ÉÜ„Éº„Éñ„É´)posts (ÊäÄË°ì„Éñ„É≠„Ç∞)ColumnTypeNotetitlestringË®ò‰∫ã„Çø„Ç§„Éà„É´slugstringURLÁî®„Çπ„É©„ÉÉ„Ç∞ (‰æã: rails-8-release)„ÄÇSEO„Å´ÊúâÂà©bodytextMarkdownÊú¨ÊñástatusintegerÂÖ¨ÈñãÁä∂ÊÖã (0: draft, 1: published)published_atdatetimeÂÖ¨ÈñãÊó•categorystring„Ç´„ÉÜ„Ç¥„É™ (‰æã: Rails, AWS)projects („Éù„Éº„Éà„Éï„Ç©„É™„Ç™)ColumnTypeNotetitlestring„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂêçdescriptiontextËß£Ë™¨ (MarkdownÂèØ)urlstringÊàêÊûúÁâ©URLgithub_urlstring„É™„Éù„Ç∏„Éà„É™URLtech_stackstring‰ΩøÁî®ÊäÄË°ì („Ç´„É≥„ÉûÂå∫Âàá„ÇäÁ≠â)imagesattachmentActiveStorage„ÅßÁ¥ê‰ªò„Åë5. ÈñãÁô∫„Çπ„ÉÜ„ÉÉ„Éó (Êé®Â•®ÊâãÈ†Ü)Phase 1: „Éô„Éº„ÇπÊ©üËÉΩ„ÅÆÂÆüË£ÖË™çË®ºÊ©üËÉΩ„ÅÆÂ∞éÂÖ•:rails generate authentication
rails db:migrate
„Åì„Çå„Åß„É≠„Ç∞„Ç§„É≥Ê©üËÉΩ„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ„ÅåËá™ÂãïÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇScaffold/Model‰ΩúÊàê:rails g scaffold Admin::Post title:string slug:string body:text status:integer published_at:datetime
rails g model Project title:string description:text url:string github_url:string tech_stack:string
ActiveStorageË®≠ÂÆö:config/storage.yml „ÅÆ amazon „Çª„ÇØ„Ç∑„Éß„É≥„ÇíÊúâÂäπÂåñ„Åó„ÄÅË™çË®ºÊÉÖÂ†±„ÇíÁí∞Â¢ÉÂ§âÊï∞ (RAILS_MASTER_KEY „Åæ„Åü„ÅØ ENV) „Å´Ë®≠ÂÆö„ÄÇPhase 2: „Éá„Ç∂„Ç§„É≥„Å®„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÊèê‰æõ„Åó„Åü application.html.erb „ÇíÈÅ©Áî®„ÄÇÂêÑView„ÇíTailwind CSS„Åß„Çπ„Çø„Ç§„É™„É≥„Ç∞„ÄÇMarkdown„Éò„É´„Éë„Éº„ÅÆÂÆüË£Ö„ÄÇPhase 3: „Éá„Éó„É≠„Ç§ (AWS + Kamal)AWSÊ∫ñÂÇô:EC2„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê (Ubuntu, t3.smallÊé®Â•®)„ÄÇElastic IPÂâ≤„ÇäÂΩì„Å¶„ÄÇ„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç∞„É´„Éº„Éó„Åß HTTP(80), HTTPS(443), SSH(22) „ÇíË®±ÂèØ„ÄÇS3„Éê„Ç±„ÉÉ„Éà‰ΩúÊàê (ÁîªÂÉèÁî®)„ÄÇKamalË®≠ÂÆö:config/deploy.yml „Å´IP„Ç¢„Éâ„É¨„Çπ„Å®„Éâ„É°„Ç§„É≥„ÄÅDocker„É¨„Ç∏„Çπ„Éà„É™ÊÉÖÂ†±„ÇíË®≠ÂÆö„ÄÇkamal setup „Ç≥„Éû„É≥„Éâ„Åß„Çµ„Éº„Éê„ÉºÊßãÁØâ„ÄÇDNSË®≠ÂÆö:ÂèñÂæó„Åó„Åü„Éâ„É°„Ç§„É≥„ÅÆA„É¨„Ç≥„Éº„Éâ„ÇíElastic IP„Å´Âêë„Åë„Çã„ÄÇ6. ‰ªäÂæå„ÅÆÊõ¥Êñ∞„Éª‰øùÂÆàÊâãÈ†ÜË®ò‰∫ã„ÅÆÊõ¥Êñ∞„Éï„É≠„Éº/admin „Å´„Ç¢„ÇØ„Çª„Çπ„Åó„É≠„Ç∞„Ç§„É≥„ÄÇMarkdown„Ç®„Éá„Ç£„Çø„ÅßË®ò‰∫ãÂü∑Á≠Ü„ÄÇ„Éó„É¨„Éì„É•„Éº„Çø„Éñ„ÅßË°®Á§∫Á¢∫Ë™ç„ÄÇÁîªÂÉè„Çí„Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„ÉóÔºàActiveStorage Direct UploadÂÆüË£ÖÊé®Â•®„ÄÅ‰ªäÂõû„ÅØÂü∫Êú¨ÂÆüË£Ö„ÅÆ„ÅøÔºâ„ÄÇ„ÄåÂÖ¨Èñã„Äç„Çπ„ÉÜ„Éº„Çø„Çπ„Åß‰øùÂ≠ò ‚Üí Âç≥Â∫ß„Å´Êú¨Áï™ÂèçÊò†„ÄÇ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÊõ¥Êñ∞„Éï„É≠„Éº„Ç≥„Éº„Éâ‰øÆÊ≠£Âæå„ÄÅ„É≠„Éº„Ç´„É´„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÊâì„Å§„Å†„Åë„Åß„ÅôÔºàGitHub ActionsÂåñ„ÇÇÂèØËÉΩÔºâ„ÄÇkamal deploy
„Åì„Çå„Å´„Çà„Çä„ÄÅDocker„Ç§„É°„Éº„Ç∏„ÅÆ„Éì„É´„Éâ„ÄÅ„É¨„Ç∏„Çπ„Éà„É™„Å∏„ÅÆPush„ÄÅEC2‰∏ä„ÅÆ„Ç≥„É≥„ÉÜ„ÉäÂÖ•„ÇåÊõø„Åà„ÅåËá™Âãï„ÅßË°å„Çè„Çå„Åæ„Åô„ÄÇ„ÉÄ„Ç¶„É≥„Çø„Ç§„É†„ÅØ„Åª„Åº„Çº„É≠„Åß„Åô„ÄÇ

Gemfile
source "https://rubygems.org"

# Rails 8.1.1
gem "rails", "~> 8.1.1"

# Propshaft for asset pipeline
gem "propshaft"

# SQLite3 for Active Record (Production ready in Rails 8)
gem "sqlite3", ">= 2.1"

# Puma web server
gem "puma", ">= 5.0"

# JavaScript / Hotwire
gem "importmap-rails"
gem "turbo-rails"
gem "stimulus-rails"

# Utilities
gem "jbuilder"
gem "tzinfo-data", platforms: %i[ windows jruby ]

# Solid Stack (Cache, Queue, Cable)
gem "solid_cache"
gem "solid_queue"
gem "solid_cable"

# Deployment
gem "kamal", require: false
gem "thruster", require: false

# --- Added for Portfolio ---

# Markdown Rendering
gem "redcarpet"
# Syntax Highlighting
gem "rouge"

# SEO
gem "meta-tags"

# Pagination
gem "kaminari"

# Image Processing (Required for Active Storage variants)
gem "image_processing", "~> 1.2"

# AWS S3 (For Active Storage in Production)
gem "aws-sdk-s3", require: false

group :development, :test do
  gem "debug", platforms: %i[ mri windows ], require: "debug/prelude"
  gem "bundler-audit", require: false
  gem "brakeman", require: false
  gem "rubocop-rails-omakase", require: false
end

group :development do
  gem "web-console"
end

group :test do
  gem "capybara"
  gem "selenium-webdriver"
end


CreateTables
class CreatePortfolioTables < ActiveRecord::Migration[8.0]
  def change
    # „Éñ„É≠„Ç∞Ë®ò‰∫ã„ÉÜ„Éº„Éñ„É´
    create_table :posts do |t|
      t.string :title, null: false
      t.string :slug, null: false, index: { unique: true } # URLÁî® (‰æã: /posts/ruby-overview)
      t.text :body
      t.string :category
      t.integer :status, default: 0, null: false # 0: draft, 1: published
      t.datetime :published_at

      t.timestamps
    end

    # „Éù„Éº„Éà„Éï„Ç©„É™„Ç™ÂÆüÁ∏æ„ÉÜ„Éº„Éñ„É´
    create_table :projects do |t|
      t.string :title, null: false
      t.text :description
      t.string :url
      t.string :github_url
      t.string :tech_stack # "Ruby, Rails, AWS" „Å™„Å©„ÅÆÊñáÂ≠óÂàó

      t.timestamps
    end

    # „É¶„Éº„Ç∂„Éº„ÉÜ„Éº„Éñ„É´ (Rails 8 authenticationÁî®)
    # Êó¢„Å´ rails generate authentication „ÇíÂÆüË°åÊ∏à„Åø„ÅÆÂ†¥Âêà„ÅØ‰∏çË¶Å„Åß„Åô„Åå„ÄÅÂøµ„ÅÆ„Åü„ÇÅË®òËºâ
    unless table_exists?(:users)
      create_table :users do |t|
        t.string :email_address, null: false, index: { unique: true }
        t.string :password_digest, null: false

        t.timestamps
      end
    end
    
    unless table_exists?(:sessions)
      create_table :sessions do |t|
        t.references :user, null: false, foreign_key: true
        t.string :ip_address
        t.string :user_agent

        t.timestamps
      end
    end
  end
end




Routes
Rails.application.routes.draw do
  # ÂÖ¨ÈñãÂÅ¥
  root "pages#index"
  get "about", to: "pages#about"
  
  # „Éñ„É≠„Ç∞Ë®ò‰∫ã (SEO„ÅÆ„Åü„ÇÅ„Å´ slug „Çí‰ΩøÁî®)
  resources :posts, only: [:index, :show], param: :slug
  
  # „Éù„Éº„Éà„Éï„Ç©„É™„Ç™
  resources :projects, only: [:index, :show]

  # ÁÆ°ÁêÜËÄÖË™çË®º (Rails 8 authentication)
  resource :session
  resources :passwords, param: :token
  
  # ÁÆ°ÁêÜËÄÖÁî®ÁîªÈù¢
  namespace :admin do
    root to: "dashboard#index"
    resources :posts do
      post :preview, on: :collection # Markdown„Éó„É¨„Éì„É•„ÉºÁî®
    end
    resources :projects
  end

  # Health check
  get "up" => "rails/health#show", as: :rails_health_check
end



MarkdownHelper
module MarkdownHelper
  require 'redcarpet'
  require 'rouge'
  require 'rouge/plugins/redcarpet'

  class HTMLWithRouge < Redcarpet::Render::HTML
    include Rouge::Plugins::Redcarpet
  end

  def markdown(text)
    return "" unless text.present?

    render_options = {
      filter_html:     false, # HTML„Çø„Ç∞„ÇíË®±ÂèØ
      hard_wrap:       true,  # ÊîπË°å„Çí<br>„Å´Â§âÊèõ
      link_attributes: { rel: 'nofollow', target: "_blank" }
    }

    renderer = HTMLWithRouge.new(render_options)

    extensions = {
      autolink:           true,
      fenced_code_blocks: true, # ```„Åß„ÅÆ„Ç≥„Éº„Éâ„Éñ„É≠„ÉÉ„ÇØ
      lax_spacing:        true,
      no_intra_emphasis:  true,
      strikethrough:      true,
      superscript:        true,
      tables:             true
    }

    Redcarpet::Markdown.new(renderer, extensions).render(text).html_safe
  end
end



Layout
<!DOCTYPE html>
<html lang="ja">
  <head>
    <title><%= content_for(:title) || "Elie's Portfolio" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <%# SEO meta tags %>
    <%= display_meta_tags site: 'Elie\'s Portfolio', reverse: true %>

    <%# Tailwind CSS (CDN) %>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#e0f2fe', 
              secondary: '#bae6fd',
              accent: '#0284c7',
              dark: '#0f172a',
            },
            fontFamily: {
              sans: ['Helvetica Neue', 'Arial', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', 'Meiryo', 'sans-serif'],
            }
          }
        }
      }
    </script>
    
    <%# Google Fonts %>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <%# Markdown Styles (Github Flavored MarkdownÈ¢®) %>
    <style>
      .markdown-body h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 2px solid #0284c7; padding-bottom: 0.3rem; color: #1e293b; }
      .markdown-body h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #334155; }
      .markdown-body p { margin-bottom: 1rem; line-height: 1.8; color: #334155; }
      .markdown-body ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1rem; color: #334155; }
      .markdown-body ol { list-style-type: decimal; padding-left: 1.5rem; margin-bottom: 1rem; color: #334155; }
      .markdown-body a { color: #0284c7; text-decoration: underline; }
      .markdown-body a:hover { color: #0369a1; }
      .markdown-body pre { background-color: #1e293b; color: #f8fafc; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1.5rem; }
      .markdown-body code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background-color: #f1f5f9; padding: 0.2rem 0.4rem; border-radius: 0.25rem; color: #0f172a; font-size: 0.875em; }
      .markdown-body pre code { background-color: transparent; color: inherit; padding: 0; font-size: 1em; }
      .markdown-body blockquote { border-left: 4px solid #cbd5e1; padding-left: 1rem; color: #64748b; font-style: italic; margin-bottom: 1rem; }
      .markdown-body img { max-width: 100%; height: auto; border-radius: 0.5rem; margin: 1.5rem 0; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
    </style>

    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-primary text-dark font-sans flex flex-col min-h-screen">
    
    <%# Navigation %>
    <nav class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50">
      <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <%= link_to root_path, class: "flex items-center space-x-2 group" do %>
              <span class="material-symbols-outlined text-accent text-3xl group-hover:scale-110 transition-transform">rocket_launch</span>
              <span class="text-xl font-bold tracking-wider text-gray-700 group-hover:text-accent transition-colors">Elie's Portfolio</span>
            <% end %>
          </div>
          
          <div class="hidden sm:flex sm:items-center sm:space-x-8">
            <%= link_to "Home", root_path, class: "text-gray-500 hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition-colors" %>
            <%= link_to "About", about_path, class: "text-gray-500 hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition-colors" %>
            <%= link_to "Projects", projects_path, class: "text-gray-500 hover:text-accent px-3 py-2 rounded-md text-sm font-medium transition-colors" %>
            <%= link_to "Blog", posts_path, class: "bg-accent text-white hover:bg-sky-700 px-4 py-2 rounded-full text-sm font-medium transition-all shadow-md hover:shadow-lg" %>
            
            <% if authenticated? %>
              <%= link_to "Admin", admin_root_path, class: "text-xs text-gray-400 hover:text-accent ml-4 border border-gray-200 px-2 py-1 rounded" %>
            <% end %>
          </div>
        </div>
      </div>
    </nav>

    <%# Flash Messages %>
    <% flash.each do |key, value| %>
      <div class="max-w-5xl mx-auto px-4 mt-4 animate-fade-in-up">
        <% color_class = key == 'notice' ? 'bg-sky-100 text-sky-800 border-sky-200' : 'bg-red-100 text-red-800 border-red-200' %>
        <div class="<%= color_class %> px-4 py-3 rounded-lg border flex items-center shadow-sm">
          <span class="material-symbols-outlined mr-2 text-lg"><%= key == 'notice' ? 'check_circle' : 'error' %></span>
          <span class="text-sm font-medium"><%= value %></span>
        </div>
      </div>
    <% end %>

    <%# Main Content %>
    <main class="flex-grow w-full max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <%= yield %>
    </main>

    <%# Footer %>
    <footer class="bg-white mt-auto py-8 border-t border-sky-100">
      <div class="max-w-5xl mx-auto px-4 text-center">
        <p class="text-gray-400 text-sm">
          &copy; <%= Time.current.year %> Elie's Ruby on Rails Portfolio. <br class="sm:hidden">
          All rights reserved.
        </p>
      </div>
    </footer>

  </body>
</html>



AdminPostsController
module Admin
  class PostsController < ApplicationController
    # Ë™çË®º„Ç¨„Éº„ÉâÔºàË™çË®ºÊ©üËÉΩÂÆüË£ÖÂæå„Å´„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„ÇíÂ§ñ„ÅôÔºâ
    # allow_unauthenticated_access only: [] 
    # before_action :resume_session
    # before_action :require_authentication

    before_action :set_post, only: %i[show edit update destroy]
    layout 'application' # ÁÆ°ÁêÜÁîªÈù¢„ÇÇÂêå„Åò„É¨„Ç§„Ç¢„Ç¶„Éà„Çí‰ΩøÁî®ÔºàÂà•„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê„ÇÇÂèØÔºâ

    def index
      @posts = Post.order(created_at: :desc).page(params[:page])
    end

    def new
      @post = Post.new
    end

    def edit
    end

    def create
      @post = Post.new(post_params)

      if @post.save
        redirect_to admin_posts_path, notice: "Ë®ò‰∫ã„Çí‰ΩúÊàê„Åó„Åæ„Åó„ÅüÔºÅ"
      else
        render :new, status: :unprocessable_entity
      end
    end

    def update
      if @post.update(post_params)
        redirect_to admin_posts_path, notice: "Ë®ò‰∫ã„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„ÅüÔºÅ"
      else
        render :edit, status: :unprocessable_entity
      end
    end

    def destroy
      @post.destroy
      redirect_to admin_posts_path, notice: "Ë®ò‰∫ã„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü„ÄÇ"
    end

    # „É™„Ç¢„É´„Çø„Ç§„É†„Éó„É¨„Éì„É•„ÉºÁî®
    def preview
      @body = params[:body]
      respond_to do |format|
        format.turbo_stream
      end
    end

    private

    def set_post
      @post = Post.find(params[:id])
    end

    def post_params
      params.require(:post).permit(:title, :slug, :body, :category, :status, :published_at)
    end
  end
end



DeployWorkflow
name: Deploy to AWS

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    # Ê®©ÈôêË®≠ÂÆöÔºàGitHub PackagesË™≠„ÅøËæº„Åø„Å™„Å©Ôºâ
    permissions:
      contents: read
      packages: write

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Install SSH key
        uses: shimataro/ssh-key-action@v2
        with:
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          known_hosts: ${{ secrets.SSH_KNOWN_HOSTS }}

      - name: Set up Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: 3.4.7
          bundler-cache: true

      - name: Install Kamal
        run: gem install kamal

      - name: Deploy with Kamal
        env:
          RAILS_MASTER_KEY: ${{ secrets.RAILS_MASTER_KEY }}
          KAMAL_REGISTRY_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
        run: kamal deploy






ÂÆüË£Ö„ÅÆ„Éù„Ç§„É≥„ÉàËß£Ë™¨
Markdown„Å®Redcarpet (markdown_helper.rb)

hard_wrap: true Ë®≠ÂÆö„Å´„Çà„Çä„ÄÅÊ®ôÊ∫ñÁöÑ„Å™Markdown„ÅÆÊîπË°åÊåôÂãï„ÇíÂÆüÁèæ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

Rouge „Å®ÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Åì„Å®„Åß„ÄÅ„Ç®„É≥„Ç∏„Éã„Ç¢„ÅÆ„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„Å´ÂøÖÈ†à„ÅÆ„Äå„Ç≥„Éº„Éâ„ÅÆ„Ç∑„É≥„Çø„ÉÉ„ÇØ„Çπ„Éè„Ç§„É©„Ç§„Éà„Äç„ÇíÁ∂∫È∫ó„Å´Ë°®Á§∫„Åó„Åæ„Åô„ÄÇ

HTML/CSS„ÉÜ„É≥„Éó„É¨„Éº„Éà (application.html.erb)

bg-primary (ËñÑ„ÅÑÊ∞¥Ëâ≤: #e0f2fe) „ÇíËÉåÊôØ„Å´Êé°Áî®„Åó„ÄÅbg-white „ÅÆ„Ç´„Éº„Éâ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíÈÖçÁΩÆ„Åô„Çã„Åì„Å®„Åß„ÄÅÊ∏ÖÊΩîÊÑü„Å®ÂèØË™≠ÊÄß„ÇíÁ¢∫‰øù„Åó„Åæ„Åó„Åü„ÄÇ

sticky top-0 „Åß„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº„ÇíÂõ∫ÂÆö„Åó„ÄÅ„Çπ„Éû„Éõ„Åß„ÅÆÈñ≤Ë¶ßÊôÇ„ÇÇ„É°„Éã„É•„Éº„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„ÇÑ„Åô„Åè„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

SEOÁî®„ÅÆ display_meta_tags „ÇíÈÖçÁΩÆÊ∏à„Åø„Åß„Åô„ÄÇÂêÑController„Åß set_meta_tags title: "Ë®ò‰∫ãÂêç" „ÅÆ„Çà„ÅÜ„Å´Êõ∏„Åè„Å†„Åë„ÅßÂèçÊò†„Åï„Çå„Åæ„Åô„ÄÇ

CI/CD (deploy.yml)

Rails 8Ê®ôÊ∫ñ„ÅÆ„Éá„Éó„É≠„Ç§„ÉÑ„Éº„É´ Kamal „Çí‰ΩøÁî®„Åô„ÇãÊßãÊàê„Åß„Åô„ÄÇ

GitHub Actions‰∏ä„ÅßDocker„Ç§„É°„Éº„Ç∏„Çí„Éì„É´„Éâ„Åó„ÄÅGHCR (GitHub Container Registry) „Å´„Éó„ÉÉ„Ç∑„É•„Åó„ÅüÂæå„ÄÅAWS EC2„Å∏„Éá„Éó„É≠„Ç§„Ç≥„Éû„É≥„Éâ„ÇíÁô∫Ë°å„Åó„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅ„É≠„Éº„Ç´„É´„Éû„Ç∑„É≥„ÅÆ„Çπ„Éö„ÉÉ„ÇØ„Å´‰æùÂ≠ò„Åõ„Åö„ÄÅÂÆâÂÖ®„Å™„Éá„Éó„É≠„Ç§„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ
